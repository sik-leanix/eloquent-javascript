<canvas width="400" height="400"></canvas>
<script>
    let cx = document.querySelector("canvas").getContext("2d");

    let lastTime = null;
    function frame(time) {
        if (lastTime != null) {
            updateAnimation(Math.min(100, time - lastTime) / 1000);
        }
        lastTime = time;
        requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);

    let x = 120;
    let y = 100;
    let speedX = 100;
    let speedY = 50;
  
    function updateAnimation(step) {
        cx.clearRect(0, 0, 400, 400);
        cx.strokeStyle = "red";
        cx.lineWidth = 3;
        cx.strokeRect(40, 40, 300, 300);

        x += speedX * step;
        y += speedY * step;

        if (x < 45 + 10 || x > 315 + 10) {
            speedX = -speedX;
        }
        if (y < 45 + 10 || y > 315 + 10) {
            speedY = -speedY;
        }

        cx.beginPath();
        cx.arc(x, y, 10, 0, 9);
        cx.fillStyle = "gold";
        cx.strokeStyle = "gold";
        cx.fill();
    }
</script>